#!/bin/bash

main(){
    # Usage
    if [[ -z "${1}" ]] ; then
        echo -e "Usage: $(basename $BASH_SOURCE) keymap (like 'es')"
        exit 1
    fi

    if [[ ! -e /usr/share/thanakblayout/thanakbd-"$1".xmodmap ]] ; then
        echo -e "E: keymap for $1 not exists"
    fi

    echo -e "Switching to the experimental thanatermsis keyboard, see his github project for more info"
    echo -e "Please wait..." # by some reason this is slow on e17

    #sleep 1
    #source /etc/default/keyboard

    setxkbmap "$1"
    xmodmap /usr/share/thanakblayout/thanakbd-"$1".xmodmap
    #sync
    sleep 1
    echo -e "Done"

}

#
#  MAIN
#
main "$@"

# vim: set foldmethod=marker :
